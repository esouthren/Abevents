<!DOCTYPE html>
<html>
    <head>
        <title>Abevents</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
		<link rel="stylesheet" href="pikaday.css">
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
          <script src="http://code.angularjs.org/1.2.0rc1/angular-animate.min.js"></script>
        <script src="angularHardcopy.js"></script>
        <script src="angularAnimate.js"></script>
		<script src="jsController.js"></script>
		

        <!-- Fonts! -->
        <link rel="stylesheet" type="text/css"
          href="https://fonts.googleapis.com/css?family=Montserrat">

    </head>

    <body>

		<!-- Angular JS for Mobile Menu slider -->
	<div ng-app="abEvents" ng-controller="abEventsController">

		<div id="Header">
			<a href="index.html"><img src="images/logoWhite.png" alt="Logo"/></a>
            <button class="openMobileMenuButton" ng-click="toggleMenu()" >Menu</button>

		</div>

        <div id="mysticalHeaderPaddingFix">
        <!-- who even knows what this div does it just makes the header work -->
        </div>

        <div id="eventsContainer">

                <div ng-repeat="event in testEvents" class="Event">
                    <table class="eventsTable">
                        <tr>
                            <td class="eventImg"><img src="images/{{ event.image}}"</td>
                            <td class="eventText">
                                <h1>{{ event.name.toUpperCase()}}</h1>
                                <h2>{{ event.location }}</h2>
                               
                                <br />
                                                            
                                <div ng-show="!showDetails"  class="animate-show">
                                    <!-- Show first 150 characters of description -->
                                    {{ event.description.slice(0,150) }}...
                                </div>
                                

                              

                                <div class="animate-show" ng-show="showDetails">
                                    
                                    <!-- Extra information when expanded -->
                                    {{ event.description }}
                                    <br /><br />
                                    <h3>{{ event.date }} </h3>
                    
                                <h3>Time: {{event.time}}</h3>
                             
                                <h3>Price: £{{ event.price }}</h3> 
                                    <br />

                                   
                                        <center>
                                    
                                    <img src="images/collapse.png" width="10%" ng-show="showDetails" ng-click="showDetails=!showDetails" />
                                        </center>
                                    </div>
                          <center>
                              <br /><br />
                                <img src="images/expand.png" width="10%" ng-show="!showDetails"  ng-click="showDetails=!showDetails"></center>
                             

                          </td>

                            <td class="eventIcons">
                                <center><img src="images/IconGreen.png" alt="Green" />
                                <img src="images/IconBlue.png" alt="Blue" />
                                <img src="images/IconYellow.png" alt="Yellow" />
                                <img src="images/IconRed.png" alt="Red" />
                                <img src="images/IconGrey.png" alt="Grey" />                                 
                                </center>
                            </td>
                        </tr>
                       

                    </table>
                    <hr>

                </div>


        </div>

        <div id="menu" ng-hide="mobileMenuToggle">
            <button class="openMobileMenuButton" ng-click="toggleMenu()" >Menu</button>
            <h1>Search Filters</h1>

            <label for="datepicker"><h3>Date &nbsp;&nbsp;</h3> </label>
            <h5>
                <div id="catButton" onclick="categoryToggle(this)">Today</div>
                <div id="catButton" onclick="categoryToggle(this)">Tomorrow</div>
                <div id="catButton" onclick="categoryToggle(this)">Weekend</div>
                <div id="catButton" onclick="categoryToggle(this)">Weeknights</div>
            </h5>

            <p style="line-height:0.5">or<p />

            <table class="sliderTable">
                <tr>
                    <td class="sliderValue">From&nbsp; </td>
                    <td class="sliderBar">
                        <input class="dateTextBox" type="text" value="Select Date" id="datepicker">
                    </td>
                </tr>
                <tr>
                    <td>To </td>
                    <td class="sliderBar">
                        <input class="dateTextBox" type="text" value="Select Date" id="datepicker2">
                    </td>
                </tr>
            </table>

            <br />
            <h3> Categories</h3>
            <h5>
                <div id="catButton" onclick="categoryToggle(this)">Nightclubs</div>
                <div id="catButton" onclick="categoryToggle(this)">Gigs</div>
                <div id="catButton" onclick="categoryToggle(this)">Comedy</div>
                <div id="catButton" onclick="categoryToggle(this)">Theatre</div>
                <div id="catButton" onclick="categoryToggle(this)">Festivals</div>
                <div id="catButton" onclick="categoryToggle(this)">Ceilidh</div>
            </h5>

            <h3>Max Price</h3>
            <table class="sliderTable">
                <tr>
                    <td class="slider">
                        <input class="sliderBar" type="range" id="slider" value="10" min="0" max="100" step="5"
                        oninput="sliderChange(this.value)">
                     </td>
                     <td class="sliderValue">
                        <h3>£<output id="output">10</output></h3>
                     </td>
                </tr>
            </table>
            <br />

            <h3><input type="submit" class="updateSearchButton" value="Update Search"></h3>
        </div>

    </div>


		<!-- Javascripty Bits and Pieces -->

    <script src="pikaday.js"> // Pikadaty is the Calendar Widget</script>
    <script>
        // retrieving value of price slider
        function sliderChange(val) {
            document.getElementById('output').innerHTML = val;
        }

        // changing background colour of category buttons
        // need to add boolean toggle to distinguish on/off when submitted
        function categoryToggle(divObj) {
            if (divObj.style.background == "antiquewhite") {
                divObj.style.background = "lightslategray";
            }
            else {
                divObj.style.background = "antiquewhite";
            }
        }

        var datePickerFrom = new Pikaday(
        {
            field: document.getElementById('datepicker'),
            firstDay: 1,
            minDate: new Date(),
            maxDate: new Date(2020, 12, 31),
            yearRange: [2000,2020]
        });

        var datePickerTo = new Pikaday(
        {
            field: document.getElementById('datepicker2'),
            firstDay: 1,
            minDate: new Date(),
            maxDate: new Date(2020, 12, 31),
            yearRange: [2000,2020]
        });


        // to remove scroll bar from main events window
        var parent = document.getElementById('container1');
        var child = document.getElementById('container2');
        child.style.paddingRight = child.offsetWidth - child.clientWidth + "px";




        // Menu Sticky Bit



    </script>
    </body>
</html>
